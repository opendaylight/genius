{
  "comments": [
    {
      "key": {
        "uuid": "3a65312a_4d5eb613",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 5492
      },
      "writtenOn": "2016-11-16T17:00:19Z",
      "side": 1,
      "message": "pretty dangerous reference..\n\nWhen ARP service is in netvirt, am wondering why this constant should be here?",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_adeaea0c",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 5492
      },
      "writtenOn": "2016-11-16T17:04:16Z",
      "side": 1,
      "message": "Oops, I am seeing the base ARP Packet Handler in Genius ..\n\nIs this variable used in any of the ARP specific files in Genius ?",
      "parentUuid": "3a65312a_4d5eb613",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_ad194a8a",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 6550
      },
      "writtenOn": "2016-11-17T05:58:15Z",
      "side": 1,
      "message": "Nope, its not being used any where in Genius. Moving as per review comments for Netvirt changes.\n\u003e\u003eAll the table ids/cookies are placed in NwConstants so it would be possible to track pipeline changes. Pls place the table-id + cookie definitions there\u003c\u003c",
      "parentUuid": "3a65312a_adeaea0c",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_2d0d3a3f",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 5492
      },
      "writtenOn": "2016-11-17T06:09:15Z",
      "side": 1,
      "message": "Referring a constant in netvirt and based on that skewing a value in genius , is not a good design practice..\n\nLet us move this to netvirt.",
      "parentUuid": "3a65312a_ad194a8a",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_e82170a0",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 6550
      },
      "writtenOn": "2016-11-17T06:43:22Z",
      "side": 1,
      "message": "Please confirm if I can abandon this review or I need move back ARP_RESPONDER_GROUP_IDFR to netvirt and keep COOKIE_ARP_RESPONDER here itself.",
      "parentUuid": "3a65312a_2d0d3a3f",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_2842483e",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 5802
      },
      "writtenOn": "2016-11-17T07:03:39Z",
      "side": 1,
      "message": "Karthik, What I meant is that the cookie + table id needs to be in NwConstants. I see the table id is already there but I think the cookie should stay in this def file as well.\nRegarding the gorup id - I think it should not be constant and allocated by one of the pools.\nHow can you make sure some other application in the pipeline (like sfc) won\u0027t take this id as part of other allocation pool?",
      "parentUuid": "3a65312a_e82170a0",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_e86fb0c3",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 6550
      },
      "writtenOn": "2016-11-17T07:39:51Z",
      "side": 1,
      "message": "Currently I see all the pool ranges are hard coded in respective modules. Here are some of the examples\n\n----- ELAN -----\npublic static final String ELAN_ID_POOL_NAME \u003d \"elan.ids.pool\";\n    public static final long ELAN_ID_LOW_VALUE \u003d 5000L;\n    public static final long ELAN_ID_HIGH_VALUE \u003d 10000L;\n---- NextHop Manager ----\n\nCreateIdPoolInput createPool \u003d new CreateIdPoolInputBuilder()\n                .setPoolName(NEXTHOP_ID_POOL_NAME)\n                .setLow(150000L)\n                .setHigh(175000L)\n                .build();\n\n\nHence only we to set a unique range is to go through each modules and find out the group pools and its range. Since we needed only single entry we had set  175001L which is one value more than that of nexthop manager pool. other solution is to move all the pool information to NwConstant.java and create enum similar to NxmOfFieldType. here is an example\n\n\n\tpublic enum GroupTable {\n\t\n\t\tNEXTHOP_MANAGER(\"nextHopPointerPool\",150000L,175000L),\n        ARP_REPONDER(\"Arp_Responder\", 175001L, 175001L);\n\t\t\n\t\tprivate final String name;\n        private final long min;\n\t\tprivate final long max;\n\n        Group(final String name, final long min, final long max) {\n            this.name \u003d name;\n\t\t\tthis.min \u003d min;\n\t\t\tthis.max \u003d max;\n        }\n\n\t\tpublic String poolName() {\n            return this.name;\n        }\n\t\t\n\t\tpublic long min() {\n            return this.min;\n        }\n\t\t\n        public long min() {\n            return this.max;\n        }\n    }\n\n\nUsage:\n\nCreateIdPoolInput createPool \u003d new CreateIdPoolInputBuilder()\n                .setPoolName(GroupTable.NEXTHOP_MANAGER.poolName())\n                .setLow(GroupTable.NEXTHOP_MANAGER.min())\n                .setHigh(GroupTable.NEXTHOP_MANAGER.max())\n                .build();",
      "parentUuid": "3a65312a_2842483e",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a65312a_eed699f0",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/mdsalutil/NwConstants.java",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 5492
      },
      "writtenOn": "2016-11-17T16:09:35Z",
      "side": 1,
      "message": "Hi Tali,\n\nWe donot have a pool allocation service today for the IDs to be used by the services.\n\nWhile that is a good point, am not sure if this review should be making such a change.\n\nAnd Karthik,\nIf you need only one group id for ARP management, please use the InterfaceManager pool (or) ELAN pool itself to allocate that group-id as it shouldn\u0027t cause any harm.   \n\nWhile other services can be decided whether they should run or not in a private cloud, but InterfaceManager and ELAN will always be there :)",
      "parentUuid": "3a65312a_e86fb0c3",
      "revId": "bc139bce958fd18253f6c8f44a1ac23bc32f300b",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}
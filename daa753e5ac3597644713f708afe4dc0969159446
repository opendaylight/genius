{
  "comments": [
    {
      "key": {
        "uuid": "830282af_c30e6da1",
        "filename": "mdsalutil/mdsalutil-impl/src/main/java/org/opendaylight/genius/datastoreutils/listeners/internal/DataTreeEventCallbackRegistrarImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1842
      },
      "writtenOn": "2018-04-16T16:22:43Z",
      "side": 1,
      "message": "I think it would be better to pass the scheduledExecutorService and schedule here. That way timeOutScheduledFuture can be final and it closes a timing window where it might not be set yet when the DTCL notification occurs.",
      "revId": "daa753e5ac3597644713f708afe4dc0969159446",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66e6b7a0_2b63bcb5",
        "filename": "mdsalutil/mdsalutil-impl/src/main/java/org/opendaylight/genius/datastoreutils/listeners/internal/DataTreeEventCallbackRegistrarImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-04-17T07:32:14Z",
      "side": 1,
      "message": "I thought about that, but then you hit http://errorprone.info/bugpattern/ConstructorLeaksThis, becaues the \"listener\" (line 140) would be \"this\", because the Runnable is this DataTreeEventCallbackChangeListener... how would you cleanly address that? Or just @SuppressWarnings(\"ConstructorLeaksThis\") ?",
      "parentUuid": "830282af_c30e6da1",
      "revId": "daa753e5ac3597644713f708afe4dc0969159446",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2026db66_0df14c46",
        "filename": "mdsalutil/mdsalutil-impl/src/main/java/org/opendaylight/genius/datastoreutils/listeners/internal/DataTreeEventCallbackRegistrarImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1842
      },
      "writtenOn": "2018-04-17T10:50:11Z",
      "side": 1,
      "message": "yeah. In that case we can add an init method or keep it as is but move the timer registration before the DTCL registration.",
      "parentUuid": "66e6b7a0_2b63bcb5",
      "revId": "daa753e5ac3597644713f708afe4dc0969159446",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78130f49_20cd5c68",
        "filename": "mdsalutil/mdsalutil-impl/src/main/java/org/opendaylight/genius/datastoreutils/listeners/internal/DataTreeEventCallbackRegistrarImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 5867
      },
      "writtenOn": "2018-04-17T18:45:41Z",
      "side": 1,
      "message": "an init() method is kind of what the setRegistration() as is already does, no?  We still could not make timeOutScheduledFuture final (your initial point).\n\nI have now moved the timer registration before the DTCL registration, if you think that is better.  Ok?",
      "parentUuid": "2026db66_0df14c46",
      "revId": "daa753e5ac3597644713f708afe4dc0969159446",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c026c69_5aa60c66",
        "filename": "mdsalutil/mdsalutil-impl/src/main/java/org/opendaylight/genius/datastoreutils/listeners/internal/DataTreeEventCallbackRegistrarImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1842
      },
      "writtenOn": "2018-04-17T19:03:22Z",
      "side": 1,
      "message": "that\u0027s the key part - as I mentioned, it removes an edge case.",
      "parentUuid": "78130f49_20cd5c68",
      "revId": "daa753e5ac3597644713f708afe4dc0969159446",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}
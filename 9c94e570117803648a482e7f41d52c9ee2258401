{
  "comments": [
    {
      "key": {
        "uuid": "9a561d44_5840e206",
        "filename": "interfacemanager/interfacemanager-impl/src/main/java/org/opendaylight/genius/interfacemanager/servicebindings/flowbased/utilities/FlowBasedServicesUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 5278
      },
      "writtenOn": "2016-07-27T11:33:45Z",
      "side": 1,
      "message": "Instead of setting SH Flag in metadata on LPortDispatcher table 17, itcan be set in ingress table 0 flow entry itself for external VLAN port. It avoids unnecessary SH flag write in metadata for each service bound to the port.",
      "revId": "9c94e570117803648a482e7f41d52c9ee2258401",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_f16591b5",
        "filename": "interfacemanager/interfacemanager-impl/src/main/java/org/opendaylight/genius/interfacemanager/servicebindings/flowbased/utilities/FlowBasedServicesUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 5802
      },
      "writtenOn": "2016-07-27T18:38:18Z",
      "side": 1,
      "message": "So setting the SH-flag in T0 means that MetaDataUtil.getWriteMetaDataMaskForDispatcherTable() should also be changed to 0xFFFFFFFFFFFFFFFE rather than 0xFFFFFFFFFFFFFFFF\nAre there any other use-cases which could be affected by this change?",
      "parentUuid": "9a561d44_5840e206",
      "revId": "9c94e570117803648a482e7f41d52c9ee2258401",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_c74c0fcb",
        "filename": "interfacemanager/interfacemanager-impl/src/main/java/org/opendaylight/genius/interfacemanager/servicebindings/flowbased/utilities/FlowBasedServicesUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 5278
      },
      "writtenOn": "2016-07-28T04:51:42Z",
      "side": 1,
      "message": "Mask should be 1FFFFF0000000001 for lportTag+SH Flag (in the LSB) while writing it in metadata. You can look at InterfaceManagerCommonUtils#makeTunnelIngressFlow for reference.\nI don\u0027t see any other service get impacted (because of LSB being used for SH Flag) Since this bit is not used by any service. So let us go ahead and use this bit always for SH Flag and let services use this bit for any SH Flag match in the metadata.",
      "parentUuid": "9a561d44_f16591b5",
      "revId": "9c94e570117803648a482e7f41d52c9ee2258401",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_27eceb8e",
        "filename": "interfacemanager/interfacemanager-impl/src/main/java/org/opendaylight/genius/interfacemanager/servicebindings/flowbased/utilities/FlowBasedServicesUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 5802
      },
      "writtenOn": "2016-07-28T05:04:45Z",
      "side": 1,
      "message": "ok. I fixed metadatamask in installInterfaceIngressFlow to be METADATA_MASK_LPORT_TAG_SH_FLAG but still isn\u0027t the dispatcher table write metadata should be changed to 0xFFFFFFFFFFFFFFFE rather than 0xFFFFFFFFFFFFFFFF? otherwise the SH-flag will be overridden once it gets to the dispatcher table",
      "parentUuid": "9a561d44_c74c0fcb",
      "revId": "9c94e570117803648a482e7f41d52c9ee2258401",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a561d44_03c6fa67",
        "filename": "interfacemanager/interfacemanager-impl/src/main/java/org/opendaylight/genius/interfacemanager/servicebindings/flowbased/utilities/FlowBasedServicesUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 220,
      "author": {
        "id": 5278
      },
      "writtenOn": "2016-07-28T07:28:08Z",
      "side": 1,
      "message": "Yes, mask should be 0xFFFFFFFFFFFFFFFE for writing metadata in LPort Dispatcher table.",
      "parentUuid": "9a561d44_27eceb8e",
      "revId": "9c94e570117803648a482e7f41d52c9ee2258401",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}
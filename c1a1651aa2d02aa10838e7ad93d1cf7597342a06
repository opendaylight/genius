{
  "comments": [
    {
      "key": {
        "uuid": "5e4a1d03_1872dfa6",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 8,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-18T16:04:10Z",
      "side": 1,
      "message": "I just realized (only now) that it\u0027s bad to have org.opendaylight.genius.datastoreutils in genius.mdsalutil-api.. we of course already have other stuff, but for something new like this, how would you feel about either putting this into org.opendaylight.genius.mdsalutil.cache(s?) in this existing mdsalutil-api bundle, or use this as the opportunity to start a new bundle such as... org.opendaylight.genius.incubator (?)",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7adb8a19_4d882431",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 8,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-18T18:13:46Z",
      "side": 1,
      "message": "org.opendaylight.genius.mdsalutil.cache is cool. I agree mdsalutil-api is much, much more than just an API bundle - it seems like a dumping ground :(  Could do a new bundle where we could move all DS related classes. I\u0027m not sure about \"incubator\" though - what would that mean?",
      "parentUuid": "5e4a1d03_1872dfa6",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ecbcffdf_683ba0bb",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 8,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-19T05:12:48Z",
      "side": 1,
      "message": "I meant \"incubator\" as in \"this is the bundle in infrautils where we put things to incubate which we may propose to higher up projects elsewhere later\" (as in, \"if this Cache proves to be useful, perhaps it should ultimately be in mdsal/conroller?\") but I\u0027m also perfectly fine if we just go with org.opendaylight.genius.mdsalutil.cache, for now.",
      "parentUuid": "7adb8a19_4d882431",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aeb4352c_e6edf678",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 8,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-21T00:30:00Z",
      "side": 1,
      "message": "done",
      "parentUuid": "ecbcffdf_683ba0bb",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd11ece5_5e6247d2",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-18T16:04:10Z",
      "side": 1,
      "message": "add cache.cleanUp() here",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68b7193b_95004661",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-18T18:13:46Z",
      "side": 1,
      "message": "yeah - although probably doesn\u0027t matter since you assume us and the cache will be GC\u0027ed since we\u0027re being closed.",
      "parentUuid": "cd11ece5_5e6247d2",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07496a87_2f3b96a4",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-21T00:30:00Z",
      "side": 1,
      "message": "done",
      "parentUuid": "68b7193b_95004661",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "29d0ea9f_319f99ca",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-18T16:04:10Z",
      "side": 1,
      "message": "hang on, and perhaps I\u0027m just confused here (need to eat), BUT.. if we have an InstanceIdentifier\u003cV\u003e path here and in te constructor, then one could majorly screw things up upon usage of this, by passing an entirely different path here than the one given in construction, and thus loosing the listener for invalidation, no?  We couldn\u0027t just not have a path here at all, and read from the one passed to the constructor?  Or.. must be check the path here as being a sub-path of the one passed to the constructor?",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b06461b0_9c402dbc",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-18T18:13:46Z",
      "side": 1,
      "message": "The path can\u0027t be entirely different b/c they\u0027re both typed with V. The one for the ctor is the DTCL registration path which, for a list, is wildcarded, ie the last path arg represents the list container type V. For a list, this method would be called to read a specific list entry so last path arg would represent a list key for type V. \n\nE.g. listener reg path would be:\n\n  InstanceIdentifier.builder(VpnInstanceOpData.class).child(\n          VpnInstanceOpDataEntry.class).build()\n\nand to lookup an entry via get:\n\n  InstanceIdentifier.builder(VpnInstanceOpData.class)\n            .child(VpnInstanceOpDataEntry.class, \n                            new VpnInstanceOpDataEntryKey(rd)).build()",
      "parentUuid": "29d0ea9f_319f99ca",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b15ae5e_e51fd360",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-19T05:12:48Z",
      "side": 1,
      "message": "OK, I didn\u0027t the wildcard, so probably fine.  We can\u0027t use InstanceIdentifier\u0027s contains() operation here, can we? Because it\u0027s \"the wrong way around\", isn\u0027t it?  Fine, just ignore me then - wildcard probably achieves what I was after.",
      "parentUuid": "b06461b0_9c402dbc",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e81e67f6_5ba57219",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-19T05:45:14Z",
      "side": 1,
      "message": "Do you mean use contains() to verify the parents of \u0027path\u0027 here matches the parents of the listetenerRegistrationPath? If so that\u0027s unnecessary as they\u0027re both typed as InstanceIdentifier\u003cV\u003e so the last path arg must be of type V which implies that the parent paths match as well. Now I \u0027m relying on compiler type checking which I suppose someone clever could get around by casting or using raw types but if that\u0027s what they really want to do....\n\nIn the example above, for the listener reg path, child(VpnInstanceOpDataEntry.class) represents/specifies the list itself, ie you want to listen for any entry added/removed/updated. In this manner we\u0027re specifying a wildcard. For get/read, we address a specific entry via its list entry key.",
      "parentUuid": "5b15ae5e_e51fd360",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24ff8dd9_d9f9da6e",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-19T16:30:03Z",
      "side": 1,
      "message": "OK, fine for me then ignore this point. I\u0027ll +1 and propose merge when other NOKs are addressed!",
      "parentUuid": "e81e67f6_5ba57219",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0078adf_cf876b55",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 5867
      },
      "writtenOn": "2017-12-18T16:04:10Z",
      "side": 1,
      "message": "just to make it crystal clear, perhaps more so to folks looking at this class in the future, that the ONLY place that reads is the Cache (Loader) function, how about inlining this above in line 52 instead of having it as a private method which could be misunderstood as being available for use from other places in this class in the future? Because it is (should not) ever be, in this new design - and that\u0027s a Good Thing.",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91a12c07_643b1274",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-18T18:13:46Z",
      "side": 1,
      "message": "will do",
      "parentUuid": "a0078adf_cf876b55",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd815f03_73df305b",
        "filename": "mdsalutil/mdsalutil-api/src/main/java/org/opendaylight/genius/datastoreutils/cache/DataObjectCache.java",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1842
      },
      "writtenOn": "2017-12-21T00:30:00Z",
      "side": 1,
      "message": "done",
      "parentUuid": "91a12c07_643b1274",
      "revId": "c1a1651aa2d02aa10838e7ad93d1cf7597342a06",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}